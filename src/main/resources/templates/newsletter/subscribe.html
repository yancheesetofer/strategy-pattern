<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Subscribe</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
</head>
<body>
<h2 class="m-5" style="text-align: center">Subscriber Manager</h2>
<div class="d-flex justify-content-center">
    <div class="m-3 p-2 card">
        <h5 style="text-align: center" class="m-3">Manage</h5>
        <form th:action="@{/newsletter/subscribe}" method="POST">
            <div>
                <label>Username:
                    <select th:name="userName">
                        <option th:each="user: ${users}" th:value="${user}" th:text="${user}"></option>
                    </select>
                </label>
            </div>
            <div class="mt-2">
                <label>Category:
                    <select th:name="newsletterName">
                        <option th:each="newsletter: ${newsletters}" th:value="${newsletter}"
                                th:text="${newsletter}"></option>
                    </select>
                </label>
            </div>
            <div>
                <div style="text-align: center;">
                    <button class="btn btn-primary m-3" type="submit" name="subscribe" value="Subscribe">
                        Subscribe
                    </button>
                    <button class="btn btn-primary m-3" type="submit" name="unsubscribe" value="Unsubscribe">
                        Unsubscribe
                    </button>
                </div>
            </div>
        </form>

    </div>
    <div>
        <div class="card m-3" th:each="entry: ${map}">
            <div style="background-color:#abd8ff; color:white" class="p-2">
                <h5 th:text="${entry.key} + '\'s subscriber'"></h5>
            </div>
            <div class="m-3">
                <div th:each="user: ${entry.value}">
                    <div th:text="${user}"></div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>